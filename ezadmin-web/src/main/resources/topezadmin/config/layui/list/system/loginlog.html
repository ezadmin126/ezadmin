<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>登录日志</title>

 </head>
 <body id="loginlog" datasource="datasource" fixednumber="" fixednumberright="" treegrid="0" append_column_url="" append_row_url="" empty_show="" firstcol="">
  <div id="append_head"></div>
  <div class="layui-fluid">
   <div class="layui-tab">
    <ul class="layui-tab-title" id="tab">
    </ul>
   </div>
   <form class="layui-form" id="search">

    <div class=" layui-inline "><label class="layui-form-label">登录IP</label>
     <div class="layui-input-inline">
      <input class=" layui-input list-search-item " type="text" name="LOGIN_IP" item_name="LOGIN_IP" alias="" oper="" >
     </div>
    </div>
    <div class=" layui-inline "><label class="layui-form-label">上次URL</label>
     <div class="layui-input-inline">
      <input class=" layui-input list-search-item " type="text" name="LOGIN_REFERER" item_name="LOGIN_REFERER" alias="" oper="" >
     </div>
    </div>
    <div class=" layui-inline "><label class="layui-form-label">用户名</label>
     <div class="layui-input-inline">
      <input class=" layui-input list-search-item " type="text" name="USER_NAME" item_name="USER_NAME" alias="" oper="" >
     </div>
    </div>
    <div class=" layui-inline "><label class="layui-form-label">登录时间</label>
     <div class="layui-input-inline">
      <object class=" layui-input list-search-item " type="daterange" name="" item_name="ADD_TIME" alias="" oper="" ></object>
     </div>
    </div>
    <div class=" layui-inline "><label class="layui-form-label">类型</label>
     <div class="layui-input-inline">
      <input class=" layui-input list-search-item " type="text" name="LOGIN_ACTION" item_name="LOGIN_ACTION" alias="" oper="" >
     </div>
    </div>
   </form>
   <hr class="layui-border-blue">
   <div class="btn-group   bd-highlight" id="tableButton">
   </div>
   <table id="table" class="layui-table" style=" width:100%">
    <thead>
     <tr id="column">
      <th type="rowbutton" id="rowbutton"></th>
         <th item_name="ID" width="60" minwidth="60" fixed="left" body="td-numbers" head="th-numbers"      >序号</th>
      <th item_name="LOGIN_IP" url=""  label="登录IP" >登录IP</th>
      <th item_name="LOGIN_REFERER" url=""  label="上次URL" >上次URL</th>
      <th item_name="USER_NAME" url=""  label="用户名" >用户名</th>
      <th item_name="ADD_TIME" url=""  label="登录时间" >登录时间</th>
      <th item_name="LOGIN_ACTION" url=""  label="类型" >类型</th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td> express:</td>
      <td colspan="100"><pre id="express" class="layui-code" orderby=" order by id desc " groupby="">StringBuilder sql=new StringBuilder();
companyId=$$("COMPANY_ID");
sql.append("
    SELECT
        a.ID,
        LOGIN_IP,
        LOGIN_REFERER,
        USER_NAME,
        ADD_TIME,
        LOGIN_ACTION 
    FROM
        T_SYS_LOGIN_LOG a 
    WHERE
        DELETE_FLAG = 0");
          if(isNotBlank("COMPANY_ID","session")){sql.append(" AND COMPANY_ID="+companyId);}

return search(sql);</pre></td>
     </tr>
     <tr>
      <td> count:</td>
      <td colspan="100"><pre id="count" class="layui-code"></pre></td>
     </tr>
    </tbody>
   </table>
  </div>
  <div id="append_foot"></div>

 </body>
</html>