<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>文档</title>
    <link href="https://www.ezjsp.com/webjars/layuidist/css/layui.css?v=null" rel="stylesheet">
    </link>
    <style>
        .layui-body {
            padding: 0;
        }
        .layui-side {
            background-color: #393D49;
        }
        .layui-nav-itemed > a {
            background-color: #4E5465 !important;
        }
        .layui-nav-tree .layui-nav-child a {
            background-color: #393D49;
        }
    </style>
</head>
<body class="layui-fluid">

<div class="layui-text ws-text" id="WS-text">
    <h1>开始使用</h1>
    <blockquote class="layui-elem-quote">
        这是一个嵌入式的Servlet表单列表工具，可以将SQL转换为带有表格或表单的网页，可适配任意UI框架，同时支持拖拽自定义网页。
     </blockquote>
    <h2 id="examples" lay-toc="{anchor: null}" style="margin-bottom: 0;">依赖（内置springboot-starter）</h2>
    <pre class="layui-code code-demo" lay-options="{}">
        <textarea>
<dependency>
  <groupId>io.github.ezadmin126</groupId>
  <artifactId>ezadmin-core</artifactId>
  <version>2.9.15</version>
</dependency>
            </textarea>
    </pre>
    <h2   lay-toc="{anchor: null}" style="margin-bottom: 0;">SQL</h2>
    <pre class="layui-code code-demo"  >
         下载初始化SQL: <a href="https://www.ezjsp.com/static/init.sql">init.sql</a>
         请在自己数据库中执行如上SQL。
    </pre>

    <h2   lay-toc="{anchor: null}" style="margin-bottom: 0;">配置</h2>
    <pre class="layui-code code-demo" lay-options="{}">
         <textarea>
topezadmin:
  # 默认true 开发时配置为false
  cacheFlag: false
  password: 1234567891234567
  # 默认dataSource springboot中配置的名字，如果有多个，逗号隔开
  datasourceBeanNames: 'dataSource'
  # 自定义上传路径
  uploadPath: /data/upload
  # 自定义下载请求
  downloadUrl:
  # 自定义下载请求
  uploadUrl: /system/upload.html
  # 1000 打印完整SQL日志
  logType: 1000-10000
# 默认使用layui作为ui
  adminStyle: layui
          </textarea>  </pre>
    启动应用并访问:  /topezadmin/dev.html

    <h2   lay-toc="{anchor: null}" style="margin-bottom: 0;">其他servlet应用</h2>
    <pre class="layui-code code-demo" lay-options="{}">
         <textarea>
        //  参考EzClientAutoConfiguration，结合配置文件，初始化 EzClientBootstrap 如下代码全部使用默认值
public class EzClientServletFilter implements Filter {

    EzClientBootstrap ezBootstrap = EzClientBootstrap.instance();
    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
        ezBootstrap.init();
    }

    @Override
    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws Exception {
        HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;
        HttpServletResponse httpServletResponse = (HttpServletResponse) servletResponse;
        if(! httpServletRequest.getRequestURI().startsWith("/topezadmin")){
            filterChain.doFilter(servletRequest,servletResponse);
            return;
        }
        try {
            ezBootstrap.doFilter(httpServletRequest, httpServletResponse,filterChain);
        } catch (Exception e) {
            LOGGE.error("", e);
            httpServletResponse.getWriter().println(e.getMessage());
        } finally {
            Utils.clearLog();
        }
    }

}
         </textarea>
    </pre>

</div>

<script src="https://www.ezjsp.com/webjars/layuidist/layui.js?v=null"></script>
<script>
    layui.use(['element', 'layer'], function(){
        var element = layui.code;
        var layer = layui.layer;
        var $=layui.jquery;
        // 监听导航点击事件
        layui.code({
            elem: '.code-demo'
        });
    });
</script>
</body>
</html>