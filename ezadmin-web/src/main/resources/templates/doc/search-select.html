<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>文档</title>
    <link href="https://www.ezjsp.com/webjars/layuidist/css/layui.css?v=null" rel="stylesheet"/>
    <link href="/static/doc/index.css?v=2" rel="stylesheet"/>
    <script src="https://www.ezjsp.com/webjars/layuidist/layui.js?v=null"></script>
</head>
<body class="layui-fluid">
<div class="ws-content">
    <div class="ws-side">
        <div class="ws-side-fixed">
            <div class="ws-dir">
                <ul class="ws-dir-ul">
                    <li><a href="#select">原生下拉</a></li>
                    <li level="2" ><a href="#selectparam">参数说明</a></li>

                    <li><a href="#select-search">搜索下拉</a></li>
                    <li level="2" ><a href="#select-searchparam">参数说明</a></li>

                    <li><a href="#xmselect">多选下拉</a></li>
                    <li level="2" ><a href="#xmselectparam">参数说明</a></li>

                    <li><a href="#xmselect-tree">树形下拉<span class="layui-badge-dot"></span></a></li>
                    <li level="2" ><a href="#xmselect-treeparam">参数说明</a></li>

                    <li><a href="#search-cascader">级联下拉<span class="layui-badge-dot"></span></a></li>
                    <li level="2" ><a href="#search-cascaderparam">参数说明</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="layui-text ws-text" id="WS-text">
        <h1>列表搜索下拉</h1>

        <h2 id="text"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            原生下拉
        </h2>
        <blockquote class="layui-elem-quote">
            原生下拉还是有一定好处的，比如超出浏览器展示
        </blockquote>
        <pre class="layui-code code-demo" lay-options="{}">
            <textarea>
              <object item_name="EZ_CODE" type="select" >编码</object>
            </textarea>
        </pre>
        <h3 id="param"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            参数说明
        </h3>
        <table class="layui-table">
            <colgroup>
                <col width="150">
                <col width="300">
            </colgroup>
            <thead>
            <tr>
                <th>配置项</th>
                <th>说明</th>
                <th>默认值</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>datatype</td>
                <td>下拉框的数据来源</td>
                <td>
                    TEXT,JSON,KVSQL,HTTP,JOIN,KVSQLCACHEFOREVER,KVSQLCACHE<br>,HTTPCACHE,QLEXPRESS,KVSQLCACHE5
                    ,EZLIST,KVJSONRESULT,CASCADER,KVSQL2TREECACHE,DATAGROUP
                </td>
            </tr>
            <tr>
                <td>data</td>
                <td>对应datatype的数据取值参数</td>
                <td>
                    yesno(是否),status(禁用启用),delete(已删除未删除),数据字典类型,数据源编码<br>
                    sql select K,V from table where id=${xx} 或者 url<br>
                    换行符分割<br>
                    k:v\n 分割<br>
                    [{"V":"男","K":"1"},{"V":"女","K":"0"}]<br>
                    如果是JSON， 键必须是 大写  K V ;
                </td>
            </tr>

            <tr>
                <td>style</td>
                <td>自定义样式</td>
                <td>style="color:red"</td>
            </tr>
            <tr>
                <td>valid_rule</td>
                <td>jqueryvalidate 规则</td>
                <td> {"required": true, "minlength": 2}</td>
            </tr>
            <tr>
                <td>valid_msg</td>
                <td>jqueryvalidate 提示文案</td>
                <td>{"required": true,  "minlength": "长度{0}"}</td>
            </tr>
            <tr>
                <td>jdbctype</td>
                <td>数字靠右展示，时间格式化，小数位保留</td>
                <td>NUMBER("NUMBER"),
                    NUMBERNULL("NUMBERNULL"),
                    DATE_TO_NUMBER("DATE_TO_NUMBER"),
                    VARCHAR("VARCHAR"),
                    DATE("DATE"),
                    DATETIME("DATETIME"),
                    CLOB("CLOB")
                    , BODY("BODY"),
                    NUMBER0("NUMBER0"),
                    NUMBER1("NUMBER1") ,
                    NUMBER2("NUMBER2") ,

                    NUMBER3("NUMBER3") ,
                    NUMBER4("NUMBER4")</td>
            </tr>
            <tr>
                <td>oper</td>
                <td>sql操作符，不同的操作符，拼接出来的SQL不一样</td>
                <td>EQ("=","等于"),
                    NE("!=","不等于"),
                    LTE( "<=","小于等于"),
                    BETWEEN("BETWEEN","区间"),
                    GTE(">=", "大于等于"),
                    LIKE("LIKE","包含"),
                    NOTLIKE("NOT LIKE","不包含"),
                    IN("IN","IN"),
                    ALL_EQ("=","ALL_EQ"),
                    NOT_IN("NOT IN","NOT IN"),
                    ALL_FIND_IN_SET("ALL_FIND_IN_SET","ALL_FIND_IN_SET");</td>
            </tr>
            <tr>
                <td>alias</td>
                <td>表别名，当多个表字段一样时，用别名来区分，同时如果是需要用表达式替换 如：
                    ifnull(a.id,0) ,最终的SQL也会使用alias来替换字段名</td>
                <td>EQ("=","等于"),
                    NE("!=","不等于"),
                    LTE( "<=","小于等于"),
                    BETWEEN("BETWEEN","区间"),
                    GTE(">=", "大于等于"),
                    LIKE("LIKE","包含"),
                    NOTLIKE("NOT LIKE","不包含"),
                    IN("IN","IN"),
                    ALL_EQ("=","ALL_EQ"),
                    NOT_IN("NOT IN","NOT IN"),
                    ALL_FIND_IN_SET("ALL_FIND_IN_SET","ALL_FIND_IN_SET");</td>
            </tr>
            <tr>
                <td>lay_verify</td>
                <td>layui原生的验证</td>
                <td> required</td>
            </tr>
            <tr>
                <td>DATASOURCE</td>
                <td>数据源</td>
                <td>指定下拉SQL对应的数据源</td>
            </tr>

            </tbody>
        </table>


        <h2 id="select-search"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            搜索下拉
        </h2>
        <blockquote class="layui-elem-quote">
            layui的搜索下拉
        </blockquote>
        <pre class="layui-code code-demo" lay-options="{}">
            <textarea>
              <object item_name="EZ_CODE" type="select-search" >编码</object>
            </textarea>
        </pre>
        <h3 id="select-searchparam"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            参数说明 (同原生下拉)
        </h3>


        <h2 id="xmselect"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            多选下拉
        </h2>
        <blockquote class="layui-elem-quote">
            使用xmselect实现的多选下拉搜索
        </blockquote>
        <pre class="layui-code code-demo" lay-options="{}">
            <textarea>
              <object item_name="EZ_CODE" type="xmselect" >编码</object>
            </textarea>
        </pre>
        <h3 id="xmselectparam"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            参数说明 （同原生下拉）
        </h3>


        <h2 id="xmselect-tree"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            树形下拉
        </h2>
        <blockquote class="layui-elem-quote">
            使用xmselect实现的多选下拉搜索
        </blockquote>
        <pre class="layui-code code-demo" lay-options="{}">
            <textarea>
     <object item_name="CATEGORY_ID" data="select CATEGORY_ID ID,PARENT_ID,CATEGORY_NAME NAME from T_BASE_CATEGORY WHERE COMPANY_ID=${COMPANY_ID} and DELETE_FLAG=0 and status=1" datatype="KVSQL2TREECACHE" id="itemId-CATEGORY_ID" strict="false" type="xmselect-tree" radio="true"></object>
            </textarea>
        </pre>
        <h3 id="xmselect-treeparam"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            参数说明
        </h3>
        <table class="layui-table">
            <colgroup>
                <col width="150">
                <col width="300">
            </colgroup>
            <thead>
            <tr>
                <th>配置项</th>
                <th>说明</th>
                <th>默认值</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>datatype</td>
                <td>KVSQL2TREECACHE 或者 KVSQL2TREE</td>
                <td>
                    KVSQL2TREECACHE
                </td>
            </tr>
            <tr>
                <td>data</td>
                <td>SQL需要返回 ID,PARENT_ID,NAME  三个参数</td>
                <td>
                    select CATEGORY_ID ID,PARENT_ID,CATEGORY_NAME NAME from T_BASE_CATEGORY WHERE COMPANY_ID=${COMPANY_ID} and DELETE_FLAG=0 and status=1
                </td>
            </tr>
            <tr>
                <td>strict</td>
                <td>严格父子模式</td>
                <td>
false                </td>
            </tr>
            <tr>
                <td>radio</td>
                <td>是否单选</td>
                <td>
                    false </td>
            </tr>
            <tr>
                <td>jdbctype</td>
                <td>数字靠右展示，时间格式化，小数位保留</td>
                <td>NUMBER("NUMBER"),
                    NUMBERNULL("NUMBERNULL"),
                    DATE_TO_NUMBER("DATE_TO_NUMBER"),
                    VARCHAR("VARCHAR"),
                    DATE("DATE"),
                    DATETIME("DATETIME"),
                    CLOB("CLOB")
                    , BODY("BODY"),
                    NUMBER0("NUMBER0"),
                    NUMBER1("NUMBER1") ,
                    NUMBER2("NUMBER2") ,

                    NUMBER3("NUMBER3") ,
                    NUMBER4("NUMBER4")</td>
            </tr>
            <tr>
                <td>oper</td>
                <td>sql操作符，不同的操作符，拼接出来的SQL不一样</td>
                <td>EQ("=","等于"),
                    NE("!=","不等于"),
                    LTE( "<=","小于等于"),
                    BETWEEN("BETWEEN","区间"),
                    GTE(">=", "大于等于"),
                    LIKE("LIKE","包含"),
                    NOTLIKE("NOT LIKE","不包含"),
                    IN("IN","IN"),
                    ALL_EQ("=","ALL_EQ"),
                    NOT_IN("NOT IN","NOT IN"),
                    ALL_FIND_IN_SET("ALL_FIND_IN_SET","ALL_FIND_IN_SET");</td>
            </tr>
            <tr>
                <td>alias</td>
                <td>表别名，当多个表字段一样时，用别名来区分，同时如果是需要用表达式替换 如：
                    ifnull(a.id,0) ,最终的SQL也会使用alias来替换字段名</td>
                <td>EQ("=","等于"),
                    NE("!=","不等于"),
                    LTE( "<=","小于等于"),
                    BETWEEN("BETWEEN","区间"),
                    GTE(">=", "大于等于"),
                    LIKE("LIKE","包含"),
                    NOTLIKE("NOT LIKE","不包含"),
                    IN("IN","IN"),
                    ALL_EQ("=","ALL_EQ"),
                    NOT_IN("NOT IN","NOT IN"),
                    ALL_FIND_IN_SET("ALL_FIND_IN_SET","ALL_FIND_IN_SET");</td>
            </tr>

            </tbody>
        </table>


        <h2 id="search-cascader"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            sql级联下拉
        </h2>
        <blockquote class="layui-elem-quote">
              类似于省市区的选择插件,目前只处理一次性读取所有数据的情况
        </blockquote>
        <pre class="layui-code code-demo" lay-options="{}">
            <textarea>
     <object item_name="CATEGORY_ID" data="select CATEGORY_ID ID,PARENT_ID,CATEGORY_NAME LABEL from T_BASE_CATEGORY WHERE COMPANY_ID=${COMPANY_ID} and DELETE_FLAG=0 and status=1" datatype="KVSQL2TREECACHE" id="itemId-CATEGORY_ID"  type="search-cascadersql" radio="true"></object>
            </textarea>
        </pre>

        <table class="layui-table">
            <colgroup>
                <col width="150">
                <col width="300">
            </colgroup>
            <thead>
            <tr>
                <th>配置项</th>
                <th>说明</th>
                <th>默认值</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>datatype</td>
                <td>KVSQL2TREECACHE 或者 KVSQL2TREE</td>
                <td>
                    KVSQL2TREECACHE
                </td>
            </tr>
            <tr>
                <td>data</td>
                <td>SQL需要返回 ID,PARENT_ID,LABEL  三个参数</td>
                <td>
                    select CATEGORY_ID ID,PARENT_ID,CATEGORY_NAME LABEL from T_BASE_CATEGORY WHERE COMPANY_ID=${COMPANY_ID} and DELETE_FLAG=0 and status=1
                </td>
            </tr>

            <tr>
                <td>collapsetags</td>
                <td>多选模式下是否折叠Tag</td>
                <td>
                    false    https://gitee.com/yixiacoco/lay_cascader/             </td>
            </tr>
            <tr>
                <td>showalllevels</td>
                <td>输入框中是否显示选中值的完整路径	</td>
                <td>
                    true  https://gitee.com/yixiacoco/lay_cascader/                </td>
            </tr>
            <tr>
                <td>radio</td>
                <td>是否单选</td>
                <td>
                    false </td>
            </tr>
            <tr>
                <td>jdbctype</td>
                <td>数字靠右展示，时间格式化，小数位保留</td>
                <td>NUMBER("NUMBER"),
                    NUMBERNULL("NUMBERNULL"),
                    DATE_TO_NUMBER("DATE_TO_NUMBER"),
                    VARCHAR("VARCHAR"),
                    DATE("DATE"),
                    DATETIME("DATETIME"),
                    CLOB("CLOB")
                    , BODY("BODY"),
                    NUMBER0("NUMBER0"),
                    NUMBER1("NUMBER1") ,
                    NUMBER2("NUMBER2") ,

                    NUMBER3("NUMBER3") ,
                    NUMBER4("NUMBER4")</td>
            </tr>
            <tr>
                <td>oper</td>
                <td>sql操作符，不同的操作符，拼接出来的SQL不一样</td>
                <td>EQ("=","等于"),
                    NE("!=","不等于"),
                    LTE( "<=","小于等于"),
                    BETWEEN("BETWEEN","区间"),
                    GTE(">=", "大于等于"),
                    LIKE("LIKE","包含"),
                    NOTLIKE("NOT LIKE","不包含"),
                    IN("IN","IN"),
                    ALL_EQ("=","ALL_EQ"),
                    NOT_IN("NOT IN","NOT IN"),
                    ALL_FIND_IN_SET("ALL_FIND_IN_SET","ALL_FIND_IN_SET");</td>
            </tr>
            <tr>
                <td>alias</td>
                <td>表别名，当多个表字段一样时，用别名来区分，同时如果是需要用表达式替换 如：
                    ifnull(a.id,0) ,最终的SQL也会使用alias来替换字段名</td>
                <td>EQ("=","等于"),
                    NE("!=","不等于"),
                    LTE( "<=","小于等于"),
                    BETWEEN("BETWEEN","区间"),
                    GTE(">=", "大于等于"),
                    LIKE("LIKE","包含"),
                    NOTLIKE("NOT LIKE","不包含"),
                    IN("IN","IN"),
                    ALL_EQ("=","ALL_EQ"),
                    NOT_IN("NOT IN","NOT IN"),
                    ALL_FIND_IN_SET("ALL_FIND_IN_SET","ALL_FIND_IN_SET");</td>
            </tr>

            </tbody>
        </table>
    </div>
</div>


<script>
    layui.use(['element', 'layer'], function(){
        // 监听导航点击事件
        layui.code({
            elem: '.code-demo'
        });
    });
</script>
</body>
</html>