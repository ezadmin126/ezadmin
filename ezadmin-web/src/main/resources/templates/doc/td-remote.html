<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>文档</title>
    <link href="https://www.ezadmin.top/webjars/layuidist/css/layui.css?v=null" rel="stylesheet"/>
    <link href="/static/doc/index.css?v=null" rel="stylesheet"/>
    <script src="https://www.ezadmin.top/webjars/layuidist/layui.js?v=null"></script>
</head>
<body class="layui-fluid">
<div class="ws-content">
    <div class="ws-side">
        <div class="ws-side-fixed">
            <div class="ws-dir">
                <ul class="ws-dir-ul">
<!--                    <li><a href="#source">源码示例</a></li>-->
<!--                    <li ><a href="#param">参数说明</a></li>-->
                </ul>
            </div>
        </div>
    </div>
    <div class="layui-text ws-text" id="WS-text">
        <h1>自定义列</h1>
        <blockquote class="layui-elem-quote">
            部分场景，某一列不适合在sql中查出来，如跨库，微服务等，本文档主要介绍如何获取病展示此类数据。
        </blockquote>
        <h2 id="list"  lay-toc="{anchor: null}" style="margin-bottom: 0;">
            方案
        </h2>
        <p>同样在表达式中，远程调用相关代码，入参为table里面的List&lt;Map&gt;数据，出参为修改后的List&lt;Map&gt; </p>
        <p>1.设置列类型为  body="td-utext" </p>

        <p>2.编写提交表达式，获取到搜索结果后，修改返回的List&lt;Map&gt; </p>
        <pre class="layui-code code-demo" lay-options="{}">
            <textarea>
                list=search(sql);
                return spring("testService").test(list);
            </textarea>
        </pre>
        <p>3.编写相关Java代码</p>
        <pre class="layui-code code-demo" lay-options="{}">
            <textarea>

import org.springframework.stereotype.Service;
import top.ezadmin.common.utils.JSONUtils;
import top.ezadmin.web.EzResult;

import java.util.Map;

@Service("testService")
public class TestService {
    public Object test(Object request) {
        //修改 相关的列
        return request;
    }
}
            </textarea>
        </pre>
    </div>
</div>


<script>
    layui.use(['element', 'layer'], function(){
        // 监听导航点击事件
        layui.code({
            elem: '.code-demo'
        });
    });
</script>
</body>
</html>